#
# This is a general section, the settings set here will be set for
# all libraries
#
[settings]
opentool = open
search-engine = "scholar.google.com"
notes-name = notes_{doc[title]:.15}.tex
#
# General file opener program, rifle is a nice python program
# If you're on macOS, you can write "open", if you're on linux
# you can also write "xdg-open", on windows-cygwin, you can set it to
# "cygstart"
#
# Use ranger as a file browser, a nice python program
file-browser = lf

picktool = fzf
fzf-extra-flags = ["--ansi", "--multi", "-i",
                   "--preview", "echo {} | sed -r 's/~~/\\n/g; /^ *$/d' ",
                   "--preview-window", "bottom:wrap:20%%"]
fzf-extra-bindings = ["ctrl-s:jump",
                      "ctrl-t:toggle-preview"]

fzf-header-format = {c.Fore.MAGENTA}{doc[title]}{c.Style.RESET_ALL}~~ {c.Fore.CYAN}{doc[author]}{c.Style.RESET_ALL}~~ {c.Fore.YELLOW}«{doc[year]}»{c.Style.RESET_ALL}~~ {c.Fore.YELLOW}{doc[abstractNote]}{c.Style.RESET_ALL}~~ :{doc[tags]}

#
# Define custom default match and header formats
#
match-format = {doc[tags]}{doc.subfolder}{doc[title]}{doc[author]}{doc[year]}
#
# Define header format with colors and multiline support
#
header-format = <red>{doc.html_escape[title]}</red>
  <span color='#ff00ff'>  {doc.html_escape[author]}</span>
  <yellow>   ({doc.html_escape[year]})</yellow>

default-library =papers
[tui]
editmode = vi
options_list.selected_margin_style = bg:ansigreen fg:ansired
options_list.unselected_margin_style =

# Define a lib
[papers]
dir = ~/Library/papers
# use whoosh as a database for papers
database-backend = whoosh
whoosh-schema-fields = ['doi', 'ref','author','year','tags','title','abstractNote']
# rename files added by author and title
add-file-name = {doc[author]}{doc[title]}
